<!doctype html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="format-detection" content="telephone=no">
	<link rel="shortcut icon" href="guide/image/favicon_cok.png">
	<title>2024 콕 마이데이터</title>

    <!-- 퍼블현황판 css -->
    <link rel="stylesheet" href="guide/css/swiper-4.5.1.min.css">
    <!--<link rel="stylesheet" href="guide/css/swiper-11.1.14.css"> -->
    <link rel="stylesheet" href="guide/css/cok_mydata_guide.css">

    <!-- 공통 library -->
    <script type="text/javascript" src="guide/js/jquery-3.7.1.min.js"></script>
    <script type="text/javascript" src="guide/js/jquery-ui-1.14.1.min.js"></script>
    <script type="text/javascript" src="guide/js/swiper-4.5.1.min.js"></script>
    <!--<script type="text/javascript" src="guide/js/swiper-11.1.14.js"></script> -->
    <script type="text/javascript" src="guide/js/ui_common.js"></script>
    <!-- <script type="text/javascript" src="guide/js/ui_share.js"></script> -->
</head>

<body>
<div clkass="wrap">
    <h1 class="h1">2024 CoK mydata</h1>
    <div class="content">
        <h2 class="h2">sticky nav</h2>
        <ul class="prod_nav_list">
            <li class="prod_nav_item"><a href="#product_01" class="prod_nav_link">1 메뉴</a></li>
            <li class="prod_nav_item"><a href="#product_02" class="prod_nav_link">2 메뉴</a></li>
            <li class="prod_nav_item"><a href="#product_03" class="prod_nav_link">3 메뉴</a></li>
            <li class="prod_nav_item"><a href="#product_04" class="prod_nav_link">4 메뉴</a></li>
            <li class="prod_nav_item"><a href="#product_05" class="prod_nav_link">5 메뉴</a></li>
        </ul>
        <div class="main_part products_area">
            <div id="product_01" class="products_unit">1 내용</div>
            <div id="product_02" class="products_unit">2 내용</div>
            <div id="product_03" class="products_unit">3 내용</div>
            <div id="product_04" class="products_unit">4 내용</div>
            <div id="product_05" class="products_unit">5 내용</div>
        </div>

        <hr class="devide">

        <h2 class="h2">table</h2>
        <div class="ui_table">
            <table>
                <caption>테이블 캡션입니다</caption>
                <colgroup>
                    <col style="width:30%">
                    <col>
                </colgroup>
                <thead>
                    <tr>
                        <th>구분1</th>
                        <th>구분2</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">구분3</th>
                        <td>내용</td>
                    </tr>
                    <tr>
                        <th scope="row">구분4</th>
                        <td>내용</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th scope="row">total</th>
                        <td>내용</td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <hr class="line">

        <div class="ui_table">
            <div class="scroll_x">
                <table>
                    <caption>테이블 캡션입니다</caption>
                    <colgroup>
                        <col style="width:110px">
                        <col>
                    </colgroup>
                    <thead>
                        <tr>
                            <th>구분1</th>
                            <th>구분2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">구분3</th>
                            <td>내용</td>
                        </tr>
                        <tr>
                            <th scope="row">구분4</th>
                            <td>내용</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th scope="row">total</th>
                            <td>내용</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        
        <hr class="devide">

        <h2 class="h2">swiper</h2>

        <!-- Slider main container -->
        <div class="test_swiper swiper-container">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper">
                <!-- Slides -->
                <div class="swiper-slide" style="height:200px; background:lemonchiffon">Slide 1</div>
                <div class="swiper-slide" style="height:200px; background:aquamarine">Slide 2</div>
                <div class="swiper-slide" style="height:200px; background:burlywood">Slide 3</div>

            </div>
            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>
        
            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        
            <!-- If we need scrollbar 
            <div class="swiper-scrollbar"></div>-->

            <button type="button" class="swiper-toggle-button" aria-label="정지"></button>
        </div>

        <hr class="devide">

        <h2 class="h2">lotto drawing</h2>

        <div>
            <button type="button" class="lotto_btn" onclick="createNumbers();">추첨</button>
        </div>
        <div class="lotto_result">추첨 번호</div>


        <hr class="devide">

        <h2 class="h2">box list</h2>

        <div class="box_list">
            <a href="#none" class="box_item" role="button">
                <span class="cont"><strong>농협</strong><span>go</span></span>
                <span class="cont line"><span>블라블라</span><span>블라블라</span></span>
            </a>
            <a href="#none" class="box_item" role="button">
                <span class="cont"><strong>국민</strong><span>go</span></span>
                <span class="cont line"><span>블라블라</span><span>블라블라</span></span>
            </a>
        </div>


        <hr class="devide">

        <h2 class="h2">scroll tab</h2>
        <div class="section">
            <div class="tab-list-wrap">
                <div class="tab-list-inner">
                    <div class="tab-list-box swiper-container">
                        <ul class="swiper-wrapper">
                            <li class="swiper-slide active"><a href="javascript:void(0);" aria-selected="false"><span>메뉴1메뉴1메뉴1</span></a></li>
                            <li class="swiper-slide"><a href="javascript:void(0);" aria-selected="false"><span>메뉴2</span></a></li>
                            <li class="swiper-slide"><a href="javascript:void(0);" aria-selected="true"><span>메뉴3메뉴3메뉴3</span></a></li>
                            <li class="swiper-slide"><a href="javascript:void(0);" aria-selected="false"><span>메뉴4메뉴4메뉴4메뉴4</span></a></li>
                        </ul>
                        <div class="swiper-scrollbar"></div>
                    </div>
                </div>
            </div>
            <div class="tab-panel-wrap">
                <div class="tab-content on" aria-hidden="false">
                    11111111111
                </div>
                <div class="tab-content" aria-hidden="true">
                    2222222222
                </div>
                <div class="tab-content" aria-hidden="true">
                    33333333
                </div>
                <div class="tab-content" aria-hidden="true">
                    44444444
                </div>
            </div>
        </div>

        <hr class="devide">

        <h2 class="h2">loading</h2>
        <div class="section" style="height:100px;">
            <div class="loading">
                <div class="circle_box">
                    <span class="circle1"></span>
                    <span class="circle2"></span>
                </div>
            </div>
        </div>

        <hr class="devide">

        <h2 class="h2">input</h2>
        <div class="formWrap">
            <label class="txtIptLabel">이름</label>
            <input type="text" class="formControl">
        </div>
        <div class="formWrap">
            <label class="txtIptLabel">이름</label>
            <input type="text" class="formControl error">
            <p class="msg">error</p>
        </div>
        <div class="formWrap">
            <label class="txtIptLabel">선택</label>
            <select class="formControl" title="선택">
                <option>aa</option>
            </select>
        </div>
        

        <hr class="devide">

        <h2 class="h2">large font mode</h2>
        <div class="section">
            <div id="mainBtnArea">
                <button type="button" title="큰글씨모드로 전환" class="btn-to-normal change" onclick="modeChangeEasy();"><span>큰글씨</span></button>
            </div>
            <div id="mainBtnArea2">
                <button type="button" title="일반모드로 전환" class="btn-to-normal" onclick="modeChangeNormal();"><span>큰글씨</span></button>
            </div>
        </div>
        

        <hr class="devide">

        <h2 class="h2">timer</h2>

        <div class="join">
            <form>
                <label for="tel">전화번호 입력</label>
                <div class="input_wrap">
                    <input type="tel" id="tel" name="tel">
                    <button class="btn_send">인증번호 받기</button>
                </div>
                <label for="code">인증번호 입력</label>
                <div class="input_wrap">
                    <div class="code_wrap">
                        <input type="tel" id="code" name="code">
                        <span class="time"></span>
                    </div>
                    <button class="btn_auth">인증하기</button>
                </div>
            </form>
        </div>

        <div class="timeout"></div>
        


    </div>
</div>
<script>
$(window).on('load',function(){
	testSwiper();
    stickyNav();
    tabScrollInit();
    inputInit();
    timerFnc();
    timeout();
});
function timeout(){
    let seconds; // 남은 시간 변수
    let countdown; // 카운트다운을 관리하는 변수
    const $timeSpan = $('.timeout'); // 시간을 표시할 요소

    // 시간을 업데이트하고 화면에 표시하는 함수
    const updateCountdown = function() {
        if (seconds >= 0) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            $timeSpan.text(`${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`);
            seconds--;
        } else {
            clearInterval(countdown);
            alert('끝!');
        }
    };

    clearInterval(countdown);
    seconds = 60; // 3분(180초)

    updateCountdown();
    // 1초마다 카운트다운 업데이트
    countdown = setInterval(updateCountdown, 1000); 
}
function timerFnc(){
    let seconds; // 남은 시간 변수
    let countdown; // 카운트다운을 관리하는 변수
    const $timeSpan = $('.time'); // 시간을 표시할 요소
    const $btnSend = $('.btn_send'); // "인증번호 받기" 버튼 요소

    // 시간을 업데이트하고 화면에 표시하는 함수
    const updateCountdown = function() {
        if (seconds >= 0) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            $timeSpan.text(`${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`);
            seconds--;
        } else {
            clearInterval(countdown);
            alert('인증번호 유효시간이 만료되었습니다.');
        }
    };

    // "인증번호 받기" 버튼 클릭 이벤트 핸들러
    $btnSend.on('click', function(e) {
        e.preventDefault();
        $btnSend.text('재전송');
        alert('인증번호가 발송되었습니다.');

        clearInterval(countdown);
        seconds = 180; // 3분(180초)

        updateCountdown();
        // 1초마다 카운트다운 업데이트
        countdown = setInterval(updateCountdown, 1000); 
    });
}
function modeChangeEasy() {
    $(".btn-to-normal").removeClass("change")
}
function modeChangeNormal() {
    $(".btn-to-normal").addClass("change")
}
function inputInit(n) {
    var r = "", t, u, i, f;
    for (n != null && (r = n + " "),
    t = 0; t < $(r + ".formWrap").length; ++t)
        if ($(r + ".formWrap").eq(t).hasClass("uiAct") == !1)
            if ($(r + ".formWrap").eq(t).addClass("uiAct"),
            u = ".formWrap:eq(" + t + ") .txtIptLabel",
            i = ".formWrap:eq(" + t + ") > .formControl",
            $(".formWrap:eq(" + t + ") > input.formControl").attr("readonly") != null && ($(".formWrap:eq(" + t + ")").addClass("hasValue"),
            $(".formWrap:eq(" + t + ") > label.txtIptLabel").addClass("readonly")),
            $(".formWrap:eq(" + t + ") > input.formControl").val() != "" && $(".formWrap:eq(" + t + ")").addClass("hasValue"),
            $(i).is("select") && ($(i).prop("selectedIndex") == 0 && $(i + " option:eq(0)").attr("disabled") == undefined ? $(i).parent().addClass("hasValue") : $(i).prop("selectedIndex") != 0 ? $(i).parent().addClass("hasValue") : $(i).parent().removeClass("hasValue"),
            $(u).find(".essential").length > 0 && $(u).parent().addClass("hasEssent")),
            $(".formWrap:eq(" + t + ") textarea").length == 0) {
                $(i).data("placeholder") != null && $(i).data("placeholder") != "" && (f = $(i).data("placeholder"),
                $(i).parent().append('<span class="placeText" aria-hidden="true" role="presentation">' + f + "<\/span>"));
                $(i).bind({
                    focusin: function() {
                        $(this).parent().addClass("isFocused")
                    },
                    "focusout change": function() {
                        $(this).is("select") && ($(this).prop("selectedIndex") == 0 && $(this).find("option:eq(0)").attr("disabled") == undefined ? $(this).parent().addClass("hasValue") : $(this).prop("selectedIndex") != 0 ? $(this).parent().addClass("hasValue") : $(this).parent().removeClass("hasValue"))
                    },
                    focusout: function() {
                        $(this).is("select") == !1 && ($(this).val() != "" ? $(this).parent().addClass("hasValue") : $(this).parent().removeClass("hasValue"));
                        $(this).parent().removeClass("isFocused")
                    },
                    change: function() {
                        $(this).is("select") == !1 && ($(this).val() != "" ? $(this).parent().addClass("hasValue") : $(this).parent().removeClass("hasValue"))
                    }
                });
                $(i).on("keyup", function() {
                    $(this).val() != "" ? $(this).parent().addClass("hasValue") : $(this).parent().removeClass("hasValue")
                })
            } else
                $(".formWrap:eq(" + t + ")").addClass("hasTextarea")
}

function tabScrollInit(){

    $('.tab-list-wrap .tab-list-box a').on('click', function() {
		var $this = $(this);
		var $idx = $this.parent().index();
		var $txt = $('span', $this).text();
		var $tabListWrap = $this.closest('.tab-list-wrap');
		var $tabListBox = $('.tab-list-box', $tabListWrap);
		var $tabItemBox = $('> ul > li', $tabListBox);
        var $tabPanelBox = $tabListWrap.next('.tab-panel-wrap');
		var $tabContBox = $('> .tab-content', $tabPanelBox);	
		var $swiperLib = $tabListWrap.data('swiper-lib');
        var $tabIdx = $('> ul > li.active', $tabListBox).index();

        

        if(!$this.hasClass('active')) {
            $tabItemBox.removeClass('active').find('a').attr('aria-selected', 'false');
            $this.attr('aria-selected', 'true').parent().addClass('active');
            if($tabContBox.length > 1) {
                $tabContBox.attr('aria-hidden', 'true').hide().eq($idx).attr('aria-hidden', 'false').show();
            }else if($tabContBox.length == 1) {
                $tabContBox.find('.offscreen').text($txt);
            }
        }
        //var $leftShadow = $('.shadow-left', $tabListWrap);
		//var $rightShadow = $('.shadow-right', $tabListWrap);
        /*
        var $shadowFn = function(lib) {
			var $posX = Math.abs(lib.translate);
			var $lastPos = lib.virtualSize - lib.$el.outerWidth();

			if($posX <= 0) {
				$leftShadow.hide();
				$rightShadow.show();
			}else if($posX > 0 && $posX < $lastPos) {
				$leftShadow.show();
				$rightShadow.show();
			}else{
				$leftShadow.show();
				$rightShadow.hide();
			}
		}
        $swiperLib = new Swiper($tabListBox, {
            observer: true,
            observeParents: true,
            initialSlide : $tabIdx,
            freeMode : true,
            slidesPerView : 'auto',
            on : {
                init :function() {
                    $shadowFn(this);
                },
                sliderMove : function() {
                    $shadowFn(this);
                },
                transitionEnd : function() {
                    $shadowFn(this);
                }
            }
        });
        $tabListWrap.data('swiper-lib', $swiperLib);
        */
        
	});

    var tabSwiper = new Swiper('.tab-list-wrap .tab-list-box.swiper-container', {
        slidesPerView: 'auto',
        spaceBetween: 0,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        a11y: {
            prevSlideMessage: '이전 슬라이드',
            nextSlideMessage: '다음 슬라이드',
        },
        scrollbar: {
            el: '.swiper-scrollbar',
            hide: true,
        },
    });
   
    
}


function testSwiper(){
    var testSwiper = new Swiper('.test_swiper.swiper-container', {
        speed: 400,
        slidesPerView: 1,
        spaceBetween: 0,
        loop: true,
        pagination: {
            clickable: true,
            el:".swiper-pagination",
            renderBullet: function (index, className) {
                return '<button type="button" class="' + className + '">' + (index + 1) + "</button>";
            },
            //type: 'fraction', ex)1/10
        },
        //scrollbar: {
        //    el: '.swiper-scrollbar',
        //    hide: true,
        //},
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        a11y: {
            prevSlideMessage: '이전 슬라이드',
            nextSlideMessage: '다음 슬라이드',
        },
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,// 수동으로 스와이프 후 자동 재생
        },
    });
    $('.test_swiper .swiper-toggle-button').on('click', function(){
        $(this).toggleClass('on');
        if($(this).hasClass('on')){
            testSwiper.autoplay.stop();
            $(this).attr('aria-label', '재생');
        }else{
            testSwiper.autoplay.start();
            $(this).attr('aria-label', '정지');
        }
    });
}


function stickyNav(){
    $(document).on('click', '.prod_nav_link', function(e){
        var $target = $($(this).attr('href'));

        $('html').animate({
            //scrollTop: $target.offset().top - ($('#headerLay').height() + $('.prod_nav_list').height() + 20)
            scrollTop: $target.offset().top - ($('.prod_nav_list').height() + 20 + 26)
        },600);
        e.preventDefault();        
    });

    // var lastScroll = 0;
    $(document).on('scroll', function(){
        var nowScroll = $(window).scrollTop();

        $('.products_unit').each(function(){
            var targetTop = $(this).offset().top;

            if((targetTop - nowScroll) < 100){
                $('.prod_nav_list').find('.prod_nav_link').removeClass('active');
                $('.prod_nav_list').find('[href="#' + $(this).attr('id') + '"').addClass('active');
            }
        });

        // if((nowScroll > lastScroll)){
        //     console.log('아래로')
        //     $('.prod_nav_list').css('display', 'flex');
        // }else{
        //     console.log('위로')
        //     $('.prod_nav_list').css('display', 'none');
        // }
        
        scrollTopCheck();

        // lastScroll = nowScroll;
    });

    // nav 고정
    function scrollTopCheck(){
        var $nav = $('.prod_nav_list');// .prod_nav_list가 존재하는 곳에서만 실행
        if($nav.length > 0){            
            var navTop = $nav.offset().top;
            var scrollTop = $(window).scrollTop();

            if(navTop - scrollTop < 46){
                $nav.addClass('active');            
            }else if(scrollTop < 40){
                $nav.removeClass('active');
            }
        }        
    }
    scrollTopCheck();//init

}


// 주어진 정수의 값에 따라서 다른 색깔을 반환하자
function getColor(number){
    let color = "orange"; // 10 미만
    if(number >=10 && number < 20){
        color = "green"
    }else if(number >=20 && number < 30){
        color = "blue"
    }else if(number >=30 && number < 40){
        color = "red"
    }else if(number >=40 && number < 50){
        color = "purple"
    }
    return color;
}
// 숫자 여섯개 당구공을 생성하여 문서에 뿌려준다!
function displayNumbers(lotto){
    // 원래 보이던 당구공들은 제거하고 시작!
    $(".lotto_result").empty();
    for(let i =0; i < 6; i++){
        const div = $("<div></div>") // 제이쿼리판 createElement
        $(div).text(`${lotto[i]}`)
        $(div).hide(); // 안 보이는 상태에서 추가하기
        $(div).css("background-color", getColor(lotto[i]))
        $(".lotto_result").append(div)
    }
    $(".lotto_result > div").fadeIn(1000); // 1초 동안 스르륵 등장!
}
// 1부터 45 사이의 숫자 중 여섯개로 골라줘라!(무작위로)
function createNumbers(){
    const lottoNumbers = []
    // 로또번호 여섯개가 다 안뽑혔다면 게속해라!
    while(lottoNumbers.length < 6){
        const randomNumber = Math.floor(Math.random() *45) + 1
       // 배열.indexOf(x) : x가 배열의 몇번 인덱스에 있는지 알려준다! 단, 없다면 -1을 반환
        if(lottoNumbers.indexOf(randomNumber) === -1){ 
            lottoNumbers.push(randomNumber)
        }
    }
    displayNumbers(lottoNumbers)
}

</script>
</body>
</html>